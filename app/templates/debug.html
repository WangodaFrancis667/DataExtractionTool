<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug: Files - Document Extractor</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <div class="header-content">
        <h1 class="app-title">Document Extractor</h1>
        <p class="app-subtitle">Debug Information</p>
      </div>
    </header>
    
    <div class="main-content">
      <div class="content-grid" style="grid-template-columns: 1fr;">
        <div class="left-panel">
          <div class="panel-section">
            <h2 class="section-title">File System Debug</h2>
            
            <div class="form-row">
              <p><strong>Output Folder:</strong> {{ output_folder }}</p>
              <p><strong>Total Files:</strong> {{ files|length }}</p>
            </div>
            
            {% if files %}
              <div class="file-list" style="margin-top: 2rem;">
                {% for file in files %}
                  <div class="file-item">
                    <div class="file-details">
                      <div class="file-name">
                        <strong>{{ file.name }}</strong>
                      </div>
                      <div class="file-meta">
                        <small>
                          Size: {{ "%.2f"|format(file.size / 1024) }} KB | 
                          Modified: {{ file.modified|int }}
                        </small>
                      </div>
                      <div class="file-meta">
                        <code style="font-size: 0.7rem; color: var(--text-light);">{{ file.path }}</code>
                      </div>
                    </div>
                    <div class="file-actions">
                      <a href="{{ url_for('main.preview', filename=file.name) }}" class="preview-btn-main">Test Preview</a>
                      <a href="{{ url_for('main.download', filename=file.name) }}" class="download-btn">Test Download</a>
                    </div>
                  </div>
                {% endfor %}
              </div>
            {% else %}
              <div class="empty-files-state">
                <div class="empty-icon"></div>
                <p class="empty-message">No files found in output directory</p>
                <p class="empty-hint">Upload and process a document first</p>
              </div>
            {% endif %}
            
            <div style="margin-top: 2rem; text-align: center;">
              <a href="{{ url_for('main.index') }}" class="preview-btn-main">Back to Home</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <footer class="app-footer">
      <div class="footer-content">
        <p class="footer-text">Debug mode • File system information • Troubleshooting</p>
      </div>
    </footer>
  </div>
</body>
</html>